# Detailed Project Blueprint

## Project Overview
A legacy-feel timesheet app for a senior full stack interview. It's built in a GitHub repo with a DevContainer. The app features a React frontend (TypeScript, built with tsc and using React from a CDN), a Node.js backend (TypeScript, serving both static HTML and REST API endpoints), and a PostgreSQL database (using raw SQL with seed scripts). Approximately 50 intentional bugs are spread across various categories (validation, security, performance, UI/UX, CI, and legacy code issues) and are hidden from candidates (scored later).

## Key Components

### Repository Structure
- `/frontend` – React app source (TS) and minimal index.html
- `/backend` – Node.js server source (TS)
- `/db` – SQL scripts for schema and seed data (with deliberate data issues)
- `/.devcontainer` – DevContainer configuration (Dockerfile, devcontainer.json)
- `/.github/workflows` – CI configuration (GitHub Actions that "validate" but ignore bugs)
- Root files: package.json, tsconfig.json, README.md (outdated/legacy), etc.

### Core Functionality
- **Employees**: Log hours (once per day), edit entries (even approved ones) and view a list with approval statuses.
- **Managers**: View all employee timesheets, approve/reject entries, view a static report (total hours per employee) generated by an inefficient query.
- **Auth**: Basic username/password authentication (with session cookies) with intentional security flaws.
- **Integration**: A single Node.js server serves both the static HTML (compiled React script) and REST API endpoints.

### Deliberate Bugs
- **Validation**: Allow >24 hours, multiple entries per day, editing approved entries.
- **Auth & Security**: Insecure role checks, weak password storage, missing CSRF protection.
- **Performance**: N+1 query, inefficient aggregation, missing indexes.
- **UI/UX**: Misdirected labels, date format issues, race conditions.
- **Legacy/CI**: Dead code, misleading comments, outdated docs, incomplete Dockerfile & CI that masks issues.
- **Tests**: Limited tests that pass by side effects even when logic is broken.

### CI & DevContainer
- GitHub Actions run npm install, a build step that uses tsc with errors silenced, a passing test suite, and a dummy linting step.
- The DevContainer provides the development environment but requires a few manual steps (e.g. manual commands for DB seeding).
